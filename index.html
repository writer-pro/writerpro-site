<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="monetag" content="1f13db393d88b33c8987b9606a11f6d7" />
    <title>Writer Pro — macOS App</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="hero">
      <nav class="nav">
        <div class="logo">WRITER PRO</div>
        <div class="nav-actions">
          <a class="btn btn-outline" href="#features">FEATURES</a>
          <a class="btn btn-outline" href="#pricing">PRICING</a>
          <a class="btn btn-outline page-link" id="nav-auth" href="app.html">SIGN IN</a>
          <a class="btn btn-outline page-link is-disabled" id="nav-billing" href="billing.html" aria-disabled="true">BILLING</a>
          <a class="btn btn-primary js-download" href="WriterPro.dmg" data-download="WriterPro.dmg">DOWNLOAD</a>
        </div>
      </nav>

      <div class="hero-grid">
        <div class="hero-copy">
          <h1>WRITER PRO</h1>
          <p class="subtitle">
            Human-style typing with AI outline support. Built for macOS.
          </p>
          <div class="cta-row">
            <a class="btn btn-primary btn-lg js-download" href="WriterPro.dmg" data-download="WriterPro.dmg">DOWNLOAD FOR macOS</a>
            <a class="btn btn-outline btn-lg" href="#demo">WATCH DEMO</a>
          </div>
          <div class="hero-stats">
            <div class="stat">
              <div class="stat-num">FROM</div>
              <div class="stat-label">$4.99 CAD / mo</div>
            </div>
            <div class="stat">
              <div class="stat-num">1</div>
              <div class="stat-label">Credit = 500 chars</div>
            </div>
            <div class="stat">
              <div class="stat-num">macOS</div>
              <div class="stat-label">12+ only</div>
            </div>
          </div>
        </div>
        <div class="hero-mock">
          <div class="mock-card">
            <div class="mock-bar">
              <span class="dot"></span>
              <span class="dot"></span>
              <span class="dot"></span>
            </div>
            <div class="mock-body">
              <div class="mock-title">PROJECT DASHBOARD</div>
              <div class="mock-row"></div>
              <div class="mock-row"></div>
              <div class="mock-row"></div>
              <div class="mock-cta">+ NEW PROJECT</div>
            </div>
          </div>
          <div class="glow"></div>
        </div>
      </div>
    </header>

    <section class="section" id="how">
      <h2>HOW IT WORKS</h2>
      <div class="cards">
        <div class="card">
          <h3>CREATE PROJECT</h3>
          <p>Name it, choose grade, and set your typing mode.</p>
        </div>
        <div class="card">
          <h3>PASTE OR UPLOAD</h3>
          <p>Paste your essay or upload a PDF outline for AI.</p>
        </div>
        <div class="card">
          <h3>LET IT TYPE</h3>
          <p>Humanized keystrokes and realistic pacing.</p>
        </div>
      </div>
    </section>

    <section class="section" id="features">
      <h2>FEATURES</h2>
      <div class="cards grid-2">
        <div class="card">
          <h3>HUMANIZED TYPING</h3>
          <p>Bursts, pauses, corrections, and realistic flow.</p>
        </div>
        <div class="card">
          <h3>AI OUTLINE TO ESSAY</h3>
          <p>Upload outlines and generate clean student writing.</p>
        </div>
        <div class="card">
          <h3>GRADE PRESETS</h3>
          <p>Pick grade 9–12 for tone and error style.</p>
        </div>
        <div class="card">
          <h3>WPM OR TOTAL TIME</h3>
          <p>Control speed or total duration with a visual tick.</p>
        </div>
        <div class="card">
          <h3>PROJECT LIBRARY</h3>
          <p>Save, type, or delete projects in one dashboard.</p>
        </div>
        <div class="card">
          <h3>CREDIT CONTROL</h3>
          <p>Simple credit usage based on characters.</p>
        </div>
        <div class="card">
          <h3>SMART BRIEF</h3>
          <p>Live predictions for grade, review, and total time as you type.</p>
        </div>
        <div class="card">
          <h3>THINK AHEAD</h3>
          <p>Auto-detects essay type and suggests the best preset.</p>
        </div>
        <div class="card">
          <h3>UNDO DELETE</h3>
          <p>Recover projects instantly if you delete by accident.</p>
        </div>
        <div class="card">
          <h3>AUTO-SAVE DRAFTS</h3>
          <p>Pick up where you left off with auto-saved project drafts.</p>
        </div>
      </div>
    </section>

    <section class="section" id="smartness">
      <h2>SMARTNESS</h2>
      <div class="cards grid-2">
        <div class="card smart-brief">
          <h3>SMART BRIEF</h3>
          <p>Writer Pro previews the grade, review level, time estimate, and credit cost before you save.</p>
          <div class="smart-row">
            <span>Essay type</span>
            <strong>Argumentative</strong>
          </div>
          <div class="smart-row">
            <span>Grade & review</span>
            <strong>12 • Heavy</strong>
          </div>
          <div class="smart-row">
            <span>Predicted time</span>
            <strong>≈ 46m</strong>
          </div>
        </div>
        <div class="card">
          <h3>PREDICTIVE GUARDRAILS</h3>
          <p>Warns you early when a session is long or credits may be insufficient.</p>
          <div class="pill-row">
            <span class="pill">Long session detected</span>
            <span class="pill">Low credits</span>
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="pricing">
      <h2>CREDITS & PRICING</h2>
      <div class="pricing">
        <div class="pricing-grid">
          <div class="pricing-card">
            <div class="price">65 CREDITS</div>
            <div class="price-sub">$4.99 CAD / month</div>
          </div>
          <div class="pricing-card">
            <div class="price">100 CREDITS</div>
            <div class="price-sub">$9.99 CAD one-time</div>
          </div>
          <div class="pricing-card">
            <div class="price">180 CREDITS</div>
            <div class="price-sub">$11.99 CAD / month</div>
          </div>
          <div class="pricing-card">
            <div class="price">220 CREDITS</div>
            <div class="price-sub">$19.99 CAD one-time</div>
          </div>
          <div class="pricing-card">
            <div class="price">430 CREDITS</div>
            <div class="price-sub">$24.99 CAD / month</div>
          </div>
        </div>
        <div class="pricing-notes">
          <p>1 credit = 500 characters.</p>
          <ul>
            <li>Credits used per essay length</li>
            <li>Transparent cost before saving</li>
            <li>Manage subscriptions anytime</li>
            <li>AI generation (coming soon) requires a monthly plan</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="section" id="ai">
      <h2>AI OUTLINE</h2>
      <div class="ai-grid">
        <div class="card">
          <h3>COMING SOON</h3>
          <p>Full AI generation is coming soon. A monthly plan will be required to use it.</p>
          <div class="mock-upload">
            <div class="upload-row">Upload PDF</div>
            <div class="upload-row">Additional Notes</div>
            <div class="upload-row">Generate Essay</div>
          </div>
        </div>
        <div class="card">
          <h3>WHAT TO EXPECT</h3>
          <p>Outline-to-essay generation with grade presets, humanized flow, and clean formatting.</p>
        </div>
      </div>
    </section>

    <section class="section" id="download">
      <div class="download-card">
        <h2>GET WRITER PRO FOR macOS</h2>
        <p>Built for macOS 12 or later. Download, install, and start typing.</p>
        <a class="btn btn-primary btn-lg js-download" href="WriterPro.dmg" data-download="WriterPro.dmg">DOWNLOAD NOW</a>
        <div class="small">macOS 12+</div>
      </div>
    </section>

    <section class="section" id="demo">
      <h2>DEMO</h2>
      <div class="card demo-card">
        <div class="demo-frame">
          <div class="demo-placeholder">Add a short app demo video or GIF</div>
        </div>
      </div>
    </section>

    <footer class="footer">
      <div class="footer-links">
        <a href="terms.html">Terms</a>
        <a href="privacy.html">Privacy</a>
      </div>
    </footer>

    <div class="modal hidden" id="download-modal" role="dialog" aria-modal="true" aria-labelledby="download-title">
      <div class="modal-card">
        <h3 id="download-title">Before You Download</h3>
        <p>
          By downloading Writer Pro, you agree to the
          <a href="terms.html" target="_blank" rel="noreferrer">Terms of Service</a>
          and
          <a href="privacy.html" target="_blank" rel="noreferrer">Privacy Policy</a>.
        </p>
        <label class="agree">
          <input type="checkbox" id="agree-check" />
          <span>I agree to the Terms and Privacy Policy.</span>
        </label>
        <div class="modal-actions">
          <button class="btn btn-outline" id="download-cancel">Cancel</button>
          <button class="btn btn-primary" id="download-confirm" disabled>Download</button>
        </div>
      </div>
    </div>

    <script>
      document.body.classList.add("page-enter");
      let session = null;
      const navAuthBtn = document.getElementById("nav-auth");
      const navBillingBtn = document.getElementById("nav-billing");
      const SUPABASE_URL = "https://vnzlaidwxgiaowhxtuvi.supabase.co";
      const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZuemxhaWR3eGdpYW93aHh0dXZpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4MjcwNzksImV4cCI6MjA4NDQwMzA3OX0.AKiGX3xbgMKtUFYxHKEaAKwacFqmjPEsy56ofU1eDQQ";

      function loadSession() {
        try {
          const raw = localStorage.getItem("wp_session");
          if (raw) session = JSON.parse(raw);
        } catch {
          session = null;
        }
      }

      function updateNavAuthState() {
        const signedIn = !!session?.access_token;
        navAuthBtn.textContent = signedIn ? "SIGN OUT" : "SIGN IN";
        navAuthBtn.setAttribute("href", signedIn ? "#" : "app.html");
        navBillingBtn.classList.toggle("is-disabled", !signedIn);
        navBillingBtn.setAttribute("aria-disabled", signedIn ? "false" : "true");
      }

      async function remoteSignOut() {
        if (!session?.access_token) return;
        try {
          await fetch(`${SUPABASE_URL}/auth/v1/logout`, {
            method: "POST",
            headers: {
              apikey: SUPABASE_ANON_KEY,
              Authorization: `Bearer ${session.access_token}`,
              "Content-Type": "application/json"
            }
          });
        } catch {}
      }

      loadSession();
      updateNavAuthState();

      const pageLinks = document.querySelectorAll(".page-link");
      pageLinks.forEach((link) => {
        link.addEventListener("click", (event) => {
          if (link.id === "nav-auth" && session?.access_token) {
            event.preventDefault();
            remoteSignOut().finally(() => {
              localStorage.removeItem("wp_session");
              session = null;
              updateNavAuthState();
            });
            return;
          }
          if (link.id === "nav-billing" && !session?.access_token) {
            event.preventDefault();
            document.body.classList.add("page-exit");
            setTimeout(() => { window.location.href = "app.html"; }, 240);
            return;
          }
          event.preventDefault();
          document.body.classList.add("page-exit");
          const href = link.getAttribute("href");
          setTimeout(() => { window.location.href = href; }, 240);
        });
      });

      const modal = document.getElementById("download-modal");
      const agreeCheck = document.getElementById("agree-check");
      const confirmBtn = document.getElementById("download-confirm");
      const cancelBtn = document.getElementById("download-cancel");
      const downloadLinks = document.querySelectorAll(".js-download");
      let downloadHref = "WriterPro.dmg";

      downloadLinks.forEach((link) => {
        link.addEventListener("click", (e) => {
          e.preventDefault();
          downloadHref = link.getAttribute("data-download") || "WriterPro.dmg";
          modal.classList.remove("hidden");
          agreeCheck.checked = false;
          confirmBtn.disabled = true;
        });
      });

      agreeCheck.addEventListener("change", () => {
        confirmBtn.disabled = !agreeCheck.checked;
      });

      confirmBtn.addEventListener("click", () => {
        window.location.href = downloadHref;
        modal.classList.add("hidden");
      });

      cancelBtn.addEventListener("click", () => {
        modal.classList.add("hidden");
      });
    </script>
  </body>
</html>
